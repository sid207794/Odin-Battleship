(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(t=o.currentScript.src),!t)){var r=o.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{t:()=>y});class t{constructor(e,t,o){this.type=e,this.length=t,this.coordinates=o,this.hits=0}hit(){this.hits++}isSunk(){return this.hits===this.length}}class o{constructor(){this.coordinates=[],this.rowCoordinates=[],this.colCoordinates=[],this.shipTypes=["CARRIER","BATTLESHIP","CRUISER","SUBMARINE","DESTROYER"],this.shipLengths=[5,4,3,3,2],this.shipCoordinates=[],this.allShipData=[],this.receivedAttacks=[],this.allHits=[],this.allMisses=[],this.sinkStatus=new Array(5).fill(!1)}boardCoordinates(){for(let e=65;e<=74;e++)for(let t=1;t<=10;t++)this.coordinates.push([String.fromCharCode(e),t])}boardRowCoords(){this.rowCoordinates=[];for(let e=1;e<=10;e++){let t=[];for(let o=65;o<=74;o++)t.push([String.fromCharCode(o),e]);this.rowCoordinates.push(t)}}boardColCoords(){this.colCoordinates=[];for(let e=65;e<=74;e++){let t=[];for(let o=1;o<=10;o++)t.push([String.fromCharCode(e),o]);this.colCoordinates.push(t)}}shipPlacement(){for(let e=0;e<5;e++){const o=Math.floor(2*Math.random()),r=this.shipLengths[e];let n=[String.fromCharCode(Math.floor(10*Math.random())+65),Math.floor(10*Math.random())+1];for(;this.isInvalidPlacement(n,r,o);)n=[String.fromCharCode(Math.floor(10*Math.random())+65),Math.floor(10*Math.random())+1];0===o?this.shipCoordinates.push(this.getHorizontalCoords(n,r)):this.shipCoordinates.push(this.getVerticalCoords(n,r));const i=new t(this.shipTypes[e],this.shipLengths[e],this.shipCoordinates[e]);this.allShipData.push(i)}}isInvalidPlacement(e,t,o){if(0===o){if(!this.coordinates.some((o=>o[0]===String.fromCharCode(e[0].charCodeAt(0)+(t-1))&&o[1]===e[1])))return!0;for(let o=0;o<t;o++){const t=String.fromCharCode(e[0].charCodeAt(0)+o);if(this.shipCoordinates.some((o=>o.some((o=>o[0]===t&&o[1]===e[1]||o[0]===t&&o[1]===e[1]-1||o[0]===t&&o[1]===e[1]+1)))))return!0}for(let o=0;o<3;o++)if(this.shipCoordinates.some((r=>r.some((r=>r[0]===String.fromCharCode(e[0].charCodeAt(0)-1)&&r[1]===e[1]-1+o||r[0]===String.fromCharCode(e[0].charCodeAt(0)+t)&&r[1]===e[1]-1+o)))))return!0;return!1}if(!this.coordinates.some((o=>o[0]===e[0]&&o[1]===e[1]+(t-1))))return!0;for(let o=0;o<t;o++)if(this.shipCoordinates.some((t=>t.some((t=>t[0]===e[0]&&t[1]===e[1]+o||t[0]===String.fromCharCode(e[0].charCodeAt(0)-1)&&t[1]===e[1]+o||t[0]===String.fromCharCode(e[0].charCodeAt(0)+1)&&t[1]===e[1]+o)))))return!0;for(let o=0;o<3;o++)if(this.shipCoordinates.some((r=>r.some((r=>r[0]===String.fromCharCode(e[0].charCodeAt(0)-1+o)&&r[1]===e[1]-1||r[0]===String.fromCharCode(e[0].charCodeAt(0)-1+o)&&r[1]===e[1]+t)))))return!0;return!1}getHorizontalCoords(e,t){const o=[];for(let r=0;r<t;r++)o.push([String.fromCharCode(e[0].charCodeAt(0)+r),e[1]]);return o}getVerticalCoords(e,t){const o=[];for(let r=0;r<t;r++)o.push([e[0],e[1]+r]);return o}receiveAttack(e){const t=this.shipCoordinates.some((t=>t.some((t=>this.isSameCoord(t,e))))),o=this.allHits.some((t=>this.isSameCoord(t,e))),r=this.allMisses.some((t=>this.isSameCoord(t,e)));if(o||r)return this.receivedAttacks.push({coord:e,hit:!1,miss:!1,alreadyTried:!0,shipSunk:!1,shipType:null,shipIndex:null}),{hit:!1,miss:!1,alreadyTried:!0,shipSunk:!1,shipType:null,shipIndex:null};if(t){const t=this.shipCoordinates.findIndex((t=>t.some((t=>this.isSameCoord(t,e))))),o=this.allShipData[t];o.hit();const r=o.isSunk();r&&(this.sinkStatus[t]=!0),this.allHits.push(e);const n={hit:!0,miss:!1,alreadyTried:!1,shipSunk:r,shipType:o.type,shipIndex:t};return this.receivedAttacks.push({coord:e,...n}),n}{this.allMisses.push(e);const t={hit:!1,miss:!0,alreadyTried:!1,shipSunk:!1,shipType:null,shipIndex:null};return this.receivedAttacks.push({coord:e,...t}),t}}isAlreadyTried(e){return this.receivedAttacks.some((t=>this.isSameCoord(t.coord,e)))}smallestUnsunkShip(){const e=[];return this.sinkStatus.forEach(((t,o)=>{t||e.push(this.shipLengths[o])})),e.length?Math.min(...e):null}getValidFireZones(e){const t=this.smallestUnsunkShip();if(!t)return[];const o=this.rowCoordinates.find((t=>t.some((t=>this.isSameCoord(t,e))))),r=this.colCoordinates.find((t=>t.some((t=>this.isSameCoord(t,e)))));return[...o?this.getValidSegmentsFromLine(o):[],...r?this.getValidSegmentsFromLine(r):[]].filter((e=>e.length>=t))}getValidSegmentsFromLine(e){const t=[];let o=[];for(let r of e)this.isAlreadyTried(r)?0!==o.length&&(t.push(o),o=[]):o.push(r);return 0!==o.length&&(t.push(o),o=[]),t}isSameCoord(e,t){return e&&t&&Array.isArray(e)&&Array.isArray(t)?e[0]===t[0]&&e[1]===t[1]:(console.warn("Invalid coords passed to isSameCoord:",e,t),!1)}isGameOver(){return this.sinkStatus.every((e=>e))}}class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isComputer=e,this.isHuman=!e,this.gameboard=new o}}const n=e.p+"55f6caccde2b722653ef.svg",i=e.p+"d2142e58b74b8b74ef50.svg",s=e.p+"e5b6315ac05dc8529b76.svg",a=document.querySelector(".fleet"),l=document.querySelector(".attackArea"),d=document.querySelector(".fleetScale"),c=document.querySelector(".attackScale"),h=document.querySelector(".yScale .midScale"),u=document.querySelector(".playerData .coordDataWrapper"),p=document.querySelector(".playerData .scores"),m=(function(){a.replaceChildren(),l.replaceChildren();const e=document.createElement("div");e.classList.add("fleetOption"),a.appendChild(e);const t=document.createElement("div");t.classList.add("optionText"),t.textContent="SELECT GAME MODE";const o=document.createElement("div");o.classList.add("options"),e.appendChild(t),e.appendChild(o);const r=["SINGLE PLAYER","LOCAL MULTIPLAYER"];for(let e=1;e<=2;e++){const t=document.createElement("div");t.classList.add(`option${e}`),t.innerHTML=`<button class='button${e}'>${r[e-1]}</button>`,o.appendChild(t)}}(),function(){a.replaceChildren(),l.replaceChildren();const e=document.createElement("div");e.classList.add("fleetOption"),a.appendChild(e);const t=document.createElement("div");t.classList.add("optionText"),t.textContent="SELECT FLEET PLACEMENT TYPE";const o=document.createElement("div");o.classList.add("options"),e.appendChild(t),e.appendChild(o);const r=["QUICK DEPLOY","PLACE YOUR FLEET"];for(let e=1;e<=2;e++){const t=document.createElement("div");t.classList.add(`option${e}`),t.innerHTML=`<button class='button${e}'>${r[e-1]}</button>`,o.appendChild(t)}});const C=function(){p.replaceChildren();const e=["leftName","leftplayStatus","timer","rightplayStatus","rightName"];for(let t=0;t<5;t++){const o=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div");o.classList.add(`${e[t]}`),r.classList.add("view"),n.classList.add("viewBox"),p.appendChild(o),o.appendChild(r),r.appendChild(n)}},f=function(){a.replaceChildren(),l.replaceChildren(),d.replaceChildren(),c.replaceChildren(),h.replaceChildren();const e=document.createElement("div"),t=document.createElement("div");e.classList.add("fleetGrid"),t.classList.add("attackGrid"),a.appendChild(e),l.appendChild(t);for(let o=0;o<10;o++)for(let r=0;r<10;r++){const n=document.createElement("div");n.classList.add(`${String.fromCharCode(65+r)}${o+1}`),n.classList.add("fleetCell"),e.appendChild(n);const i=document.createElement("div");i.classList.add(`${String.fromCharCode(65+r)}${o+1}`),i.classList.add("attackCell"),t.appendChild(i)}for(let e=0;e<10;e++){const t=document.createElement("div");t.textContent=String.fromCharCode(65+e),t.classList.add(`${String.fromCharCode(65+e)}`),t.classList.add("fleetScaleCell"),d.appendChild(t);const o=document.createElement("div");o.textContent=String.fromCharCode(65+e),o.classList.add(`${String.fromCharCode(65+e)}`),o.classList.add("attackScaleCell"),c.appendChild(o);const r=document.createElement("div");r.textContent=e+1,r.classList.add(`yScale${e+1}`),r.classList.add("yScaleCell"),h.appendChild(r)}h.style.height="25vw",h.style.width="2vw"},g=function(){const e=document.querySelector(".scores .leftName .viewBox"),o=document.querySelector(".scores .rightName .viewBox"),a=document.querySelector(".scores .leftplayStatus .viewBox"),l=document.querySelector(".scores .rightplayStatus .viewBox"),d=document.querySelector(".videoResponse .matchOutcome .leftOutcome"),c=document.querySelector(".videoResponse .matchOutcome .rightOutcome"),h=document.querySelector(".videoResponse .matchHistory .leftReport"),p=document.querySelector(".scores .timer .viewBox");e.textContent="P1",o.textContent="AI",a.textContent="Playing...",l.textContent="Waiting...";const m=["WINNER","G.O.A.T","GODMODE","CLUTCH","KING","VICTOR"],C=["SUNK","TRASH","TOAST","SKILL ISSUE","BULLIED","SCHOOLED"],f=["SUPERIOR","WINNER","FLAWLESS","BOTMODE","EFFICIENT","DOMINATOR"],g=["COOKED","MALFUNCTION","OVERRUN","PATCH_ME","DOWNBAD","404_SKILL"],S=["🏆 Promoted To Admiral.","🔥 Unbeatable - AI Couldn't Keep Up","🧠 Unmatched Intelligence","☠️ It Was AI After All!"],E=["🔥 Outclassed!","🔻 Strategic Retreat (aka Got Smoked)","🫠 That Was...Embarrassing","📦 Shipped Back To Port"],v=["💡 Algorithmic Dominance!","🎯 Precision Over Emotion","🧠 Big CPU Play","☠️ Human ERROR Detected!"],L=["💀 System Failure: COOKED","🥵 Rebooting in Shame...","📉 AI.exe Has CRASHED","🤖 You Can't Do This To Me..."];let b=[];const A=new r(!1);let x;A.gameboard.boardCoordinates(),A.gameboard.boardRowCoords(),A.gameboard.boardColCoords();const T=document.querySelectorAll(".fleetCell"),k=new r(!0);k.gameboard.boardCoordinates(),k.gameboard.shipPlacement();const I=document.querySelectorAll(".attackCell");let O={chasing:!1,firstHit:null,origin:null,directionIndex:0,directions:[[0,1],[0,-1],[1,0],[-1,0]]};function D(){for(let e of T)e.style.backgroundColor="rgb(0, 140, 255)";x=A.gameboard.shipCoordinates.flat();for(let e of T){const t=[e.classList[0].charAt(0),Number(e.classList[0].slice(1))];e.style.pointerEvents="none",x.some((e=>e[0]===t[0]&&e[1]===t[1]))&&(e.style.backgroundColor="white")}}function M(){let e;do{const t=Math.floor(10*Math.random()),o=Math.floor(10*Math.random())+1,r=[String.fromCharCode(65+t),o],n=A.gameboard.getValidFireZones(r).flat();0!==n.length?e=n[Math.floor(Math.random()*n.length)]:e=null}while(!e||A.gameboard.isAlreadyTried(e)||b.includes(e.join("")));return e}function w(e){const t=A.gameboard.smallestUnsunkShip();if(!t)return[];const o=[[[0,1],[0,-1]],[[1,0],[-1,0]]],r=[];for(let[s,a]of o){let o=1;o+=n(e,s),o+=n(e,a),o>=t&&(i(e,s)&&r.push(s),i(e,a)&&r.push(a))}return function(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}(r);function n(e,o){let[r,n]=o,i=0,[s,a]=[e[0].charCodeAt(0),e[1]];for(let e=1;e<t;e++){const t=[String.fromCharCode(s+r*e),a+n*e];if(!N(t)||A.gameboard.isAlreadyTried(t)||b.includes(t.join("")))break;i++}return i}function i(e,t){let[o,r]=t;const n=[String.fromCharCode(e[0].charCodeAt(0)+o),e[1]+r];return N(n)&&!A.gameboard.isAlreadyTried(n)&&!b.includes(n.join(""))}}const R=function(){let e=M();const t=P(e);if(q({isPlayerShip:!0,panel:"leftPanel",cell:t.child,result:t.result,shipStatus:t.shipStatusLeft,shipHits:t.leftShipHits,turn:A}),A.gameboard.isGameOver())console.log("GAME OVER!"),W(),G();else if(t.result.hit&&!t.result.shipSunk){W();const t=w(e);O={chasing:!0,firstHit:e,origin:e,directionIndex:0,directions:t},setTimeout((()=>{l.textContent="Playing...",$()}),500)}else t.result.hit&&t.result.shipSunk?(F(A.gameboard.shipCoordinates[t.result.shipIndex]),setTimeout((()=>{B()}),500)):H()};function P(e){return{child:document.querySelector(`.fleetGrid .${e[0]}${e[1]}`),result:A.gameboard.receiveAttack(e),shipStatusLeft:document.querySelectorAll(".leftPanel .shipStatus .shipWrap"),leftShipHits:Array.from(document.querySelectorAll(".leftPanel .shipStatus .shipWrap")).map((e=>Array.from(e.querySelectorAll(".coordStatus div"))))}}function q(e){let{isPlayerShip:t,panel:o,cell:r,result:n,shipStatus:i,shipHits:a,turn:l}=e;if(!n.alreadyTried){if(n.hit){r.innerHTML=`<img class="shipHitRed" src="${s}">`;const e=l.gameboard.allShipData[n.shipIndex].hits;a[n.shipIndex][e-1].style.backgroundColor="red"}else r.innerHTML=`<img class="shipMissBlue" src="${s}">`;if(n.shipSunk){const e=document.querySelector(`.${o} .${i[n.shipIndex].classList[0]} .${l.gameboard.shipTypes[n.shipIndex].toLowerCase()}Status`),r=document.querySelector(`.${o} .${i[n.shipIndex].classList[0]} .${l.gameboard.shipTypes[n.shipIndex].toLowerCase()}Status img`);e.classList.add(t?"sunkLeft":"sunkRight"),r.classList.add(t?"sunkLeftImg":"sunkRightImg")}r.style.pointerEvents="none",r.style.cursor="default",r.style.filter="brightness(100%)"}}function W(){I.forEach((e=>e.style.pointerEvents="none")),a.textContent="Waiting..."}function H(){I.forEach((e=>e.style.pointerEvents="auto")),l.textContent="Waiting...",a.textContent="Playing..."}function $(){if(!O.chasing)return;let e=O.origin,t=O.directions[O.directionIndex],o=[String.fromCharCode(e[0].charCodeAt(0)+t[0]),e[1]+t[1]];for(;O.directionIndex<O.directions.length&&(!N(o)||A.gameboard.isAlreadyTried(o)||b.includes(o.join("")));)O.directionIndex++,O.origin=O.firstHit,O.directionIndex<O.directions.length&&(t=O.directions[O.directionIndex],e=O.origin,o=[String.fromCharCode(e[0].charCodeAt(0)+t[0]),e[1]+t[1]]);if(O.directionIndex>=O.directions.length)return O.chasing=!1,void H();const r=P(o);if(q({isPlayerShip:!0,panel:"leftPanel",cell:r.child,result:r.result,shipStatus:r.shipStatusLeft,shipHits:r.leftShipHits,turn:A}),r.result.hit&&!r.result.shipSunk){const e=O.directions[O.directionIndex],t=[-e[0],-e[1]],r=O.directions.find((e=>e[0]===t[0]&&e[1]===t[1]));O.directions=r?[e,t]:[e],O.directionIndex=0,O.origin=o,setTimeout((()=>$()),500)}else A.gameboard.isGameOver()?(W(),G(),console.log("GAME OVER! AI wins")):r.result.shipSunk?(F(A.gameboard.shipCoordinates[r.result.shipIndex]),O.chasing=!1,setTimeout((()=>{B()}),500)):(O.directionIndex++,O.origin=O.firstHit,H())}function N(e){return e&&e[0].charCodeAt(0)>=65&&e[0].charCodeAt(0)<=74&&e[1]>=1&&e[1]<=10}function B(){let e=M();const t=P(e);if(q({isPlayerShip:!0,panel:"leftPanel",cell:t.child,result:t.result,shipStatus:t.shipStatusLeft,shipHits:t.leftShipHits,turn:A}),A.gameboard.isGameOver())return W(),G(),void console.log("GAME OVER! AI wins");if(t.result.hit&&!t.result.shipSunk){const t=w(e);O={chasing:!0,firstHit:e,origin:e,directionIndex:0,directions:t},setTimeout((()=>{$()}),500)}else t.result.hit&&t.result.shipSunk?(F(A.gameboard.shipCoordinates[t.result.shipIndex]),setTimeout((()=>{B()}),500)):setTimeout((()=>{H()}),500)}function F(e){const t=[[0,1],[1,0],[0,-1],[-1,0],[1,1],[1,-1],[-1,-1],[-1,1]];for(let o of e){let[e,r]=o;for(let[o,n]of t){const t=[String.fromCharCode(e.charCodeAt(0)+o),r+n];!N(t)||A.gameboard.isAlreadyTried(t)||b.includes(t.join(""))||b.push(t.join(""))}}}function G(){p.textContent="GAME OVER",a.textContent=`${C[Math.floor(Math.random()*C.length)]}`,l.textContent=`${f[Math.floor(Math.random()*f.length)]}`,a.classList.add("invalidCoords"),d.textContent=`${E[Math.floor(Math.random()*E.length)]}`,c.textContent=`${v[Math.floor(Math.random()*v.length)]}`,y("AI RESPONSE: FLEET NEUTRALIZED\nTactical superiority: confirmed.\nHuman error was... predictable.\nYour resistance was noted and erased.\nThis ocean now belongs to the machines.",h)}return{showPlayerFleet:function(){A.gameboard.shipPlacement(),D()},customPlayerFleet:function(){!function(){u.replaceChildren();const e=["shipSelect","xOrdinate","yOrdinate","orientation"];for(let t=0;t<4;t++){const o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("button"),a=document.createElement("img"),l=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div"),h=document.createElement("button"),p=document.createElement("img");o.classList.add(`${e[t]}`),r.classList.add("leftScroll"),s.classList.add("leftScrollButton"),l.classList.add("view"),d.classList.add("viewBox"),c.classList.add("rightScroll"),h.classList.add("rightScrollButton"),a.src=n,a.alt="left scroll",p.src=i,p.alt="right scroll",u.appendChild(o),o.appendChild(r),r.appendChild(s),s.appendChild(a),o.appendChild(l),l.appendChild(d),o.appendChild(c),c.appendChild(h),h.appendChild(p)}const t=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),l=document.createElement("button"),d=document.querySelector(".coordDataWrapper .xOrdinate"),c=document.querySelector(".coordDataWrapper .yOrdinate");t.classList.add("startCoord"),o.classList.add("endCoord"),r.classList.add("view"),s.classList.add("viewBox"),a.classList.add("clearOrConfirm"),l.classList.add("confirm"),l.textContent="CONFIRM",u.insertBefore(t,u.children[1]),t.appendChild(d),t.appendChild(c),u.appendChild(o),o.appendChild(r),r.appendChild(s),u.appendChild(a),a.appendChild(l)}();const e=A.gameboard.shipTypes,o=document.querySelector(".playerData .coordDataWrapper .endCoord .viewBox"),r=document.querySelector(".clearOrConfirm .confirm"),s=document.querySelector(".forfeit .start");let a=[[],[],[],[],[]],l=new Array(5).fill(null),d=null,c=null,h=null,p=null;function m(){if(null===d||null===c||null===h||null===p)return null;let e=A.gameboard.isInvalidPlacement([c,h],A.gameboard.shipLengths[d],p);if(D(),e)if(r.style.backgroundColor="red",r.style.color="white",r.style.borderColor="maroon",r.style.pointerEvents="none",0===p){const e=t();o.textContent=`${e[e.length-1]}`,o.classList.add("invalidCoords"),i(e.filter((e=>N(e))),"red")}else{const e=n();o.textContent=`${e[e.length-1]}`,o.classList.add("invalidCoords"),i(e.filter((e=>N(e))),"red")}else if(r.style.backgroundColor="lime",r.style.color="black",r.style.borderColor="green",r.style.pointerEvents="auto",0===p){const e=t();o.classList.remove("invalidCoords"),o.textContent=`${e[e.length-1]}`,i(e,"lime")}else{const e=n();o.classList.remove("invalidCoords"),o.textContent=`${e[e.length-1]}`,i(e,"lime")}function t(){return A.gameboard.getHorizontalCoords([c,h],A.gameboard.shipLengths[d])}function n(){return A.gameboard.getVerticalCoords([c,h],A.gameboard.shipLengths[d])}function i(e,t){for(let o=0;o<e.length;o++)document.querySelector(`.fleetGrid .${e[o].join("")}`).style.backgroundColor=t}return{horizontalCoords:t,verticalCoords:n}}!function(){const t=document.querySelector(".playerData .coordDataWrapper .shipSelect .leftScrollButton"),o=document.querySelector(".playerData .coordDataWrapper .shipSelect .viewBox"),r=document.querySelector(".playerData .coordDataWrapper .shipSelect .rightScrollButton");o.textContent="SELECT SHIP";let n=0;r.addEventListener("click",(()=>{o.textContent=e[n],d=n,n<4?n++:n=0,m()})),t.addEventListener("click",(()=>{n>1?n--:1===n||0===n&&"SELECT SHIP"===o.textContent?n=5:0===n&&(n=4),o.textContent=e[n-1],d=n-1,5===n&&(n=0),m()}))}(),function(){const e=document.querySelector(".playerData .coordDataWrapper .startCoord .xOrdinate .leftScrollButton"),t=document.querySelector(".playerData .coordDataWrapper .startCoord .xOrdinate .viewBox"),o=document.querySelector(".playerData .coordDataWrapper .startCoord .xOrdinate .rightScrollButton");t.textContent="X";let r=65;o.addEventListener("click",(()=>{t.textContent=String.fromCharCode([r]),c=String.fromCharCode([r]),r<74?r++:r=65,m()})),e.addEventListener("click",(()=>{r>66?r--:66===r||65===r&&"X"===t.textContent?r=75:65===r&&(r=74),t.textContent=String.fromCharCode([r-1]),c=String.fromCharCode([r-1]),75===r&&(r=65),m()}))}(),function(){const e=document.querySelector(".playerData .coordDataWrapper .startCoord .yOrdinate .leftScrollButton"),t=document.querySelector(".playerData .coordDataWrapper .startCoord .yOrdinate .viewBox"),o=document.querySelector(".playerData .coordDataWrapper .startCoord .yOrdinate .rightScrollButton");t.textContent="Y";let r=1;o.addEventListener("click",(()=>{t.textContent=r,h=r,r<10?r++:r=1,m()})),e.addEventListener("click",(()=>{r>2?r--:2===r||1===r&&"Y"===t.textContent?r=11:1===r&&(r=10),t.textContent=r-1,h=r-1,11===r&&(r=1),m()}))}(),function(){const e=document.querySelector(".playerData .coordDataWrapper .orientation .leftScrollButton"),t=document.querySelector(".playerData .coordDataWrapper .orientation .viewBox"),o=document.querySelector(".playerData .coordDataWrapper .orientation .rightScrollButton");t.textContent="ORIENTATION";let r=["HORIZONTAL","VERTICAL"],n=0;o.addEventListener("click",(()=>{t.textContent=r[n],p=n,0===n?n++:n=0,m()})),e.addEventListener("click",(()=>{1===n||0===n&&"ORIENTATION"===t.textContent?n=2:0===n&&(n=1),t.textContent=r[n-1],p=n-1,2===n&&(n=0),m()}))}(),r.addEventListener("click",(()=>{const e=m();if(!A.gameboard.isInvalidPlacement([c,h],A.gameboard.shipLengths[d],p)&&null!==e){a[d]=0===p?e.horizontalCoords():e.verticalCoords(),r.style.backgroundColor="red",r.style.color="white",r.style.borderColor="maroon",r.style.pointerEvents="none",A.gameboard.shipCoordinates=a;const o=new t(A.gameboard.shipTypes[d],A.gameboard.shipLengths[d],A.gameboard.shipCoordinates[d]);l[d]=o,A.gameboard.allShipData=l,D(),0!==A.gameboard.allShipData.length&&A.gameboard.allShipData.every((e=>null!==e))&&(s.style.backgroundColor="lime",s.style.color="black",s.style.borderColor="green",s.style.pointerEvents="auto")}console.log("shipCoordinates",A.gameboard.shipCoordinates),console.log("allShipData",A.gameboard.allShipData)}))},enablePlayerAttack:function(){const e=document.querySelectorAll(".rightPanel .shipStatus .shipWrap"),t=Array.from(document.querySelectorAll(".rightPanel .shipStatus .shipWrap")).map((e=>Array.from(e.querySelectorAll(".coordStatus div"))));for(let o of I){const r=[o.classList[0].charAt(0),Number(o.classList[0].slice(1))];o.addEventListener("click",(()=>{const n=k.gameboard.receiveAttack(r);if(!n.alreadyTried)if(q({isPlayerShip:!1,panel:"rightPanel",cell:o,result:n,shipStatus:e,shipHits:t,turn:k}),k.gameboard.isGameOver())console.log("GAME OVER!"),W(),p.textContent="GAME OVER",a.textContent=`${m[Math.floor(Math.random()*m.length)]}`,l.textContent=`${g[Math.floor(Math.random()*g.length)]}`,l.classList.add("invalidCoords"),d.textContent=`${S[Math.floor(Math.random()*S.length)]}`,c.textContent=`${L[Math.floor(Math.random()*L.length)]}`,y("VICTORY ACHIEVED\nEnemy grid cleared. All hostiles neutralized.\nYour fleet stands alone — battered, but unbroken.\nCommand honors your resolve.\nEnd transmission.",h);else{if(n.hit)return;if(O.chasing)W(),setTimeout((()=>{l.textContent="Playing...",$()}),500);else{W();let e="",t=0;const o=setInterval((()=>{e=e.length<3?e+".":"",l.textContent=`Thinking${e}`,t++,t>6&&clearInterval(o)}),300);setTimeout((()=>{l.textContent="Playing...",R()}),2200)}}}))}},resetShipData:function(){A.gameboard.shipCoordinates=[],A.gameboard.allShipData=[]},whiteWashShipCell:D,aiWinsDisplay:G,lockAttackGrid:W}};let S=!1;function y(e,t){S&&clearInterval(S);let o=0;t.innerHTML="",S=setInterval((()=>{let r=e.slice(0,o);r=r.replace(/\n/g,"<br>"),t.innerHTML=r+"_",o++,o>e.length&&(clearInterval(S),S=!1)}),25)}!function(){const e=document.querySelector(".fleetOption .option1 .button1"),t=document.querySelector(".fleetOption .option2 .button2"),o=document.querySelector(".playerData .scores"),r=document.querySelector(".videoResponse .matchHistory .leftReport"),n=document.querySelector(".videoResponse .matchOutcome .leftOutcome"),i=document.querySelector(".videoResponse .matchOutcome .rightOutcome"),s=document.querySelector(".playerData .coordDataWrapper"),a=document.querySelector(".attackArea"),l=document.querySelectorAll(".shipStatus"),d=document.querySelectorAll(".leftPanel .shipWrap"),c=document.querySelectorAll(".rightPanel .shipWrap"),h=document.querySelectorAll(".coordStatus"),u=document.querySelector(".forfeit .start"),p=document.querySelector(".forfeit .stop");e.addEventListener("mouseenter",(()=>{y("MODE: SINGLE PLAYER\nEngage an adaptive enemy in strategic naval warfare.\nDeploy your fleet. Scout the unknown. Eliminate threats.\nYour wits are the only thing between victory and a watery grave.",r)})),t.addEventListener("mouseenter",(()=>{y("COMING SOON\n\n      STAY TUNED!",r)})),e.addEventListener("click",(()=>{m();const e=document.querySelector(".fleetOption .option1 .button1"),t=document.querySelector(".fleetOption .option2 .button2");let S;e.addEventListener("mouseenter",(()=>{y("MODE: RANDOMIZED PLACEMENT\nFleet coordinates scrambled via command protocol.\nShips deployed instantly across the grid.\nStrategic placement: automated. Let chaos guide your tactics.",r)})),e.addEventListener("click",(()=>{l.forEach((e=>e.classList.add("visibleWrap"))),u.classList.remove("visibleWrap"),o.classList.add("visibleWrap"),f(),C(),S=g(),S.showPlayerFleet(),S.enablePlayerAttack(),u.style.pointerEvents="none",p.style.pointerEvents="auto",p.classList.add("visibleWrap");let e=!1;p.addEventListener("click",(()=>{e?(e=!1,y("MODE: RANDOMIZED PLACEMENT\nFleet coordinates scrambled via command protocol.\nShips deployed instantly across the grid.\nStrategic placement: automated. Let chaos guide your tactics.",r),p.textContent="FORFEIT",d.forEach((e=>{e.children[1].classList.remove("sunkLeft"),e.children[1].children[0].classList.remove("sunkLeftImg")})),c.forEach((e=>{e.children[0].classList.remove("sunkRight"),e.children[0].children[0].classList.remove("sunkRightImg")})),h.forEach((e=>Array.from(e.children).forEach((e=>e.style.backgroundColor="white")))),n.textContent="",i.textContent="",f(),C(),S=g(),S.showPlayerFleet(),S.enablePlayerAttack()):(S.lockAttackGrid(),S.aiWinsDisplay(),p.textContent="RETRY",e=!0)}))})),t.addEventListener("mouseenter",(()=>{y("MODE: MANUAL FLEET SETUP\nAwaiting input...\nPosition each vessel with surgical precision.\nVictory is forged before the first shot is fired.",r)})),t.addEventListener("click",(()=>{s.classList.add("visibleWrap"),l.forEach((e=>e.classList.add("visibleWrap"))),u.classList.add("visibleWrap"),f(),a.style.pointerEvents="none",C(),S=g(),S.customPlayerFleet(),u.addEventListener("click",(()=>{u.style.pointerEvents="none",s.classList.remove("visibleWrap"),o.classList.add("visibleWrap"),u.classList.remove("visibleWrap"),p.classList.add("visibleWrap"),p.style.pointerEvents="auto",a.style.pointerEvents="auto",S.whiteWashShipCell(),S.enablePlayerAttack()}));let e=!1;p.addEventListener("click",(()=>{e?(e=!1,y("MODE: MANUAL FLEET SETUP\nAwaiting input...\nPosition each vessel with surgical precision.\nVictory is forged before the first shot is fired.",r),p.textContent="FORFEIT",p.style.pointerEvents="none",s.classList.add("visibleWrap"),o.classList.remove("visibleWrap"),p.classList.remove("visibleWrap"),u.classList.add("visibleWrap"),u.style.backgroundColor="red",u.style.color="white",u.style.borderColor="maroon",d.forEach((e=>{e.children[1].classList.remove("sunkLeft"),e.children[1].children[0].classList.remove("sunkLeftImg")})),c.forEach((e=>{e.children[0].classList.remove("sunkRight"),e.children[0].children[0].classList.remove("sunkRightImg")})),h.forEach((e=>Array.from(e.children).forEach((e=>e.style.backgroundColor="white")))),n.textContent="",i.textContent="",f(),a.style.pointerEvents="none",C(),S=g(),S.resetShipData(),S.customPlayerFleet()):(S.lockAttackGrid(),S.aiWinsDisplay(),p.textContent="RETRY",e=!0)}))}))})),t.addEventListener("click",(()=>{}))}()})();